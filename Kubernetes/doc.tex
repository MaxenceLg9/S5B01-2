\documentclass{report}
\usepackage[T1]{fontenc}
\usepackage{graphicx}
\usepackage[table]{xcolor}
\usepackage[french]{babel}
\usepackage{titlesec}
\usepackage[a4paper]{geometry}
\usepackage{listings}
\usepackage[utf8]{inputenc}
\usepackage{lmodern}
\usepackage{babel}
\usepackage{minted}
\usepackage{fontspec}
\usepackage{tcolorbox}
\usepackage{hyperref}
\usepackage{titling}
\usepackage{enumitem}
\usepackage{fancyvrb}
\usepackage{tikz}
\usepackage{changepage}
\usepackage{tabularx}
\usepackage{float}
\usepackage{amsmath, amssymb}

\setmainfont{Calibri}



\setlist[itemize]{label=\large\textbullet}


\definecolor{azure}{rgb}{0.2, 0.7, 1.0}
\definecolor{bggray}{gray}{0.95}

\setlength{\parindent}{0pt}

\hypersetup{
	colorlinks=true,
	linkcolor=purple,
	filecolor=magenta,      
	urlcolor=blue,
	pdfborder={0 0 1}
}

\titleformat{\chapter}[block]
{\normalfont\LARGE\bfseries} % Style: large bold text
{\thechapter}                % Keep chapter number (remove if unwanted)
{1em}                        % Spacing between number and title
{}     

\urlstyle{same}

\geometry{width=18cm}
\geometry{a4paper}

\lstset{
	basicstyle=\ttfamily\small, % typewriter font
	keywordstyle=\color{blue}\bfseries, % keywords
	commentstyle=\color{green!50!black}\itshape, % comments
	stringstyle=\color{red}, % strings
	showstringspaces=false,
	numbers=none, % line numbers on the left
	numberstyle=\tiny\color{gray},
	backgroundcolor=\color{bggray},
	breaklines=true,
	frame=single,
	tabsize=4
}

\lstdefinelanguage{Rust}{
    keywords={fn, let, mut, if, else, match, impl, struct, enum, use, pub},
    sensitive=true,
    comment=[l]{//},
    morecomment=[s]{/*}{*/},
    morestring=[b]",
}

\lstset{
    language=Rust,
    basicstyle=\ttfamily\small,
    keywordstyle=\color{blue},
    commentstyle=\color{gray},
    stringstyle=\color{red},
    breaklines=true,
    frame=single
}

% Define a new environment "varblock" with 1 argument = label
\newenvironment{terminal}[1]{%
	\Verbatim[frame=single, numbers=none,label={#1}, breaklines, breakanywhere,tabsize=4]%
}{%
	\endVerbatim
}

\renewcommand{\thechapter}{\Roman{chapter}}
\renewcommand{\thesection}{\thechapter.\Alph{section}}
\renewcommand{\thesubsection}{\thesection.\arabic{subsection}}
\renewcommand{\thesubsubsection}{\thesubsection.\alph{subsubsection}}


\pretitle{%
	\begin{center}
		\LARGE
		\includegraphics[width=6cm,height=2cm]{../../../../../../Format/logo-UT-site.png}\\[\bigskipamount]
	}
	\posttitle{\end{center}}

\setcounter{secnumdepth}{4}
\setcounter{tocdepth}{3} 

\title{\Huge{\bfseries S5.B.01 Phase 4\\Déploiement Kubernetes}}
\date{\today}
\author{Maxence Lagourgue}

\begin{document}
	
	\maketitle
	\tableofcontents
	
	\chapter{Création du cluster avec Rancher}
	
	\section{Installation de docker}
	
	\begin{terminal}{}
	sudo apt remove $(dpkg --get-selections docker.io docker-compose docker-doc podman-docker containerd runc | cut -f1)
	\end{terminal}
	
	\begin{terminal}{}
	# Add Docker's official GPG key:
	sudo apt update
	sudo apt install ca-certificates curl
	sudo install -m 0755 -d /etc/apt/keyrings
	sudo curl -fsSL https://download.docker.com/linux/debian/gpg -o /etc/apt/keyrings/docker.asc
	sudo chmod a+r /etc/apt/keyrings/docker.asc
	
	# Add the repository to Apt sources:
	sudo tee /etc/apt/sources.list.d/docker.sources <<EOF
	Types: deb
	URIs: https://download.docker.com/linux/debian
	Suites: $(. /etc/os-release && echo "$VERSION_CODENAME")
	Components: stable
	Signed-By: /etc/apt/keyrings/docker.asc
	EOF
	
	sudo apt update
	\end{terminal}
	
	\begin{terminal}{}
	sudo apt install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin
	\end{terminal}
	
	\section{Installation de rancher}
	
	\begin{terminal}{}
	docker run -d --restart=unless-stopped -p 80:80 -p 443:443 --name rancher --privileged rancher/rancher:latest
	\end{terminal}
	
\end{document}
